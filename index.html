<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Titanic Data Exploration</title>
    <script src="https://www.d3js.org/d3.v3.min.js"></script>
    <script src="https://www.dimplejs.org/dist/dimple.v2.1.6.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  </head>

<body class="container">
	
	<div class="row">
		<h2>Gender vs. Survival</h2>
		<div id="chart1"></div>
	</div>

	<div class="row">
		<div id="chart3"></div>
	</div>
	<script type="text/javascript">
  		var width = 800,
    	height = 600;
  		var svg1 = dimple.newSvg('#chart1',width,height);
  		d3.csv("data/titanic_data.csv", function(data){
    		data.forEach(function (d){
      		d['Count']=1;
    	})
    	console.log(data)
    	var d = data;
    	var myChart = new dimple.chart(svg1, d);
    	var x = myChart.addCategoryAxis('x',['Sex','Survived']);
    	var y = myChart.addMeasureAxis('y','Count');
    	var s = myChart.addSeries('Sex', dimple.plot.bar);
    	myChart.addLegend(70, 10, 510, 20, "right");
    	myChart.draw();
  	});
  		var svg2 = dimple.newSvg('#chart2',width,height);
  		d3.csv("data/titanic_data.csv", function(data){
    		data.forEach(function (d){
      		d['Count']=1;
    	})
    	console.log(data)
    	var d = data;
    	var myChart = new dimple.chart(svg2, d);
    	var x = myChart.addCategoryAxis('x',['Pclass','Survived']);
    	var y = myChart.addMeasureAxis('y','Count');
    	var s = myChart.addSeries('Pclass', dimple.plot.bar);
    	myChart.addLegend(70, 10, 510, 20, "right");
    	myChart.draw();
  	});
  		
  		var svg3 = dimple.newSvg('#chart3',width,height);
  		d3.csv("data/titanic_data.csv", function(d){
	    	var myChart = new dimple.chart(svg3, d);
	    	var x = myChart.addMeasureAxis('x','Fare');
	    	var y = myChart.addMeasureAxis('y','Age');
	    	var s = myChart.addSeries(null, dimple.plot.bubble);
	    	myChart.addLegend(70, 10, 510, 20, "right");
	    	myChart.draw();
	  	});
  </script>
</body>
</html>
